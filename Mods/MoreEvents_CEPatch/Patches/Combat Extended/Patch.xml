<?xml version="1.0" encoding="utf-8" ?>
<Patch>
  
  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>Gun_Energeticharpoon</defName>
    <statBases>
      <MarketValue>2000</MarketValue>
      <Mass>22</Mass>
      <AccuracyTouch>0.18</AccuracyTouch>
      <AccuracyShort>0.26</AccuracyShort>
      <AccuracyMedium>0.26</AccuracyMedium>
      <AccuracyLong>0.18</AccuracyLong>
      <RangedWeapon_Cooldown>7.4</RangedWeapon_Cooldown>
    </statBases>
    <Properties>
    	<verbClass>CombatExtended.Verb_ShootCE</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Bullet_Energeticharpoon</defaultProjectile>
        <warmupTime>1.25</warmupTime>
        <range>25.9</range>
        <ticksBetweenBurstShots>7</ticksBetweenBurstShots>
        <burstShotCount>1</burstShotCount>
        <soundCast>Shot_ChargeBlaster</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
    	<magazineSize>1</magazineSize>
    	<reloadTime>3</reloadTime>
    	<ammoSet>AmmoSet_HarpoonArrow</ammoSet>
    </AmmoUser>
    <FireModes>
    	<aiAimMode>AimedShot</aiAimMode>
    </FireModes>
    <weaponTags>
		<li>AvtomatronGunMedium</li>
    </weaponTags>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>*/ThingDef[defName="Gun_Energeticharpoon"]/tools</xpath>
    <value>
      <tools>
        <li Class="CombatExtended.ToolCE">
			<label>barrel</label>
			<capacities>
			  <li>Blunt</li>
			</capacities>
			<power>11.7</power>
			<cooldownTime>2.6</cooldownTime>
        </li>
      </tools>
    </value>
  </Operation>
  
  <!-- TRASH GUN -->
  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>Gun_TrashGun</defName>
    <statBases>
      <MarketValue>1100</MarketValue>
      <Mass>30</Mass>
      <RangedWeapon_Cooldown>9.4</RangedWeapon_Cooldown>
    </statBases>
    <Properties>
    	<verbClass>CombatExtended.Verb_ShootCE</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Bullet_TrashBomb</defaultProjectile>
        <forcedMissRadius>3.5</forcedMissRadius>
        <ai_AvoidFriendlyFireRadius>3</ai_AvoidFriendlyFireRadius>
        <warmupTime>1.25</warmupTime>
        <range>26.9</range>
        <burstShotCount>1</burstShotCount>
        <soundCast>InfernoCannon_Fire</soundCast>
        <soundCastTail>GunTail_Light</soundCastTail>
        <muzzleFlashScale>14</muzzleFlashScale>
    </Properties>
    <AmmoUser>
    	<magazineSize>1</magazineSize>
    	<reloadTime>6</reloadTime>
    	<ammoSet>AmmoSet_TrashBomb</ammoSet>
    </AmmoUser>
    <FireModes>
    	<aiAimMode>AimedShot</aiAimMode>
    </FireModes>
    <weaponTags>
		<li>AvtomatronGunHeavy</li>
    </weaponTags>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>*/ThingDef[defName="Gun_TrashGun"]/tools</xpath>
    <value>
      <tools>
        <li Class="CombatExtended.ToolCE">
			<label>barrel</label>
			<capacities>
			  <li>Blunt</li>
			</capacities>
			<power>11.7</power>
			<cooldownTime>2.6</cooldownTime>
        </li>
      </tools>
    </value>
  </Operation>
  
</Patch>